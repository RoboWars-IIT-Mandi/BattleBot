(function(root,factory){root.STJRV2=factory(root,root.document)})(typeof global!=="undefined"?global:typeof window!=="undefined"?window:this,function(window,document){"use strict";if(window.STJRV2)return window.STJRV2;var self={},scriptUrl=(function(){if(document.currentScript)
return document.currentScript.src;var ls,s,getSrc=function(ls,attr){var i,l=ls.length,nf,s;for(i=0;i<l;i++){s=null;if(ls[i].getAttribute.length!==undefined)s=ls[i].getAttribute(attr,2);if(!s)continue;nf=s;nf=nf.split("?")[0].split("/").pop();if(nf.match(/widget(\.min)?(\.[0-9]+)?\.js/))return s}};ls=document.getElementsByTagName("script");s=getSrc(ls,"src");if(!s){ls=document.getElementsByTagName("meta");s=getSrc(ls,"content")}
if(s)return s;return""})(),domain=scriptUrl.match(/^(https?:)?\/\/(staging\.|beta\.|dev\.|qa\.)?(www\.|biz\.)?sitejabber\.com/)?scriptUrl.split("/")[2].replace("biz.",""):"www.sitejabber.com";if(domain=="sitejabber.com")domain="www.sitejabber.com";var base="https://"+domain,prodBase='https://www.sitejabber.com',CDNBase='https://static.sitejabber.com',isAbsolute=base.indexOf("//www")>=0;var _loadingStyleSheet=!1,_hasLoadedStyleSheet=!1,WIDGET_NUMBER=0,cookieSent={},sj_responses={},sj_config={};self.isAbsolute=function(){return isAbsolute};self.getBase=function(){return base};self.getCDNBase=function(){return CDNBase};self.subBaseToCDN=function(str=base){return str===prodBase?CDNBase:str};self._getQueryString=function(key,val){var k,tmp=[];if(val===!0)val="1";else if(val===!1)val="0";if(val!==null){if(typeof val==="object"){for(k in val)if(val[k]!==null)tmp.push(self._getQueryString(key+"["+k+"]",val[k]));return tmp.join("")}else if(typeof val!=="function"&&typeof val!=="undefined")return encodeURIComponent(key)+"="+encodeURIComponent(val)+"&";else return""}else return""};(self.getQueryString=function(productData,index){var ret="",key;for(key in productData)ret+=self._getQueryString(key+(typeof index=="number"?"["+index+"]":""),productData[key]);return ret}),(self.getConfig=function(){return sj_config});self.getNextWidgetNumber=function(){return++WIDGET_NUMBER};self.getResponse=function(key){return sj_responses[key]};self.setConfig=function(cfg){if(typeof cfg!=="object"||cfg===null)return!1;sj_config=cfg;return!0};self.setResponse=function(key,response){sj_responses[key]=response;return this};self.jsonP=function(url,widgetNumber,callback,errorCallback){var script=document.createElement("script"),head=document.getElementsByTagName("head")[0];script.type="text/javascript";var srcUrl=url;try{srcUrl=new URL(srcUrl);srcUrl.searchParams.append("widget_version",2);srcUrl.searchParams.append("cache_version",'');srcUrl.searchParams.append("referrer_url",window.location.href)}catch(error){self.ErrorHandler(error)}
script.src=srcUrl;head.insertBefore(script,head.firstChild);if(errorCallback)
script.addEventListener("error",(res)=>{console.log(res);errorCallback()});if(callback)callback(script);return script};self.getParameterByName=function(urlParam,name){var url=!urlParam?urlParam:scriptUrl;name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(url);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "))};self.hasLoadedStyleSheet=function(){return _hasLoadedStyleSheet};self.getAttrObj=function(el){var options={},data,key;if(el){data=el.dataset;for(key in data)
options[key.split(/(?=[A-Z])/).join("_").toLowerCase()]=data[key]}
return options};self.isEventTrusted=function(event){let check=!0;if(!self.isMobileBrowser()&&event.isTrusted!==undefined)check=event.isTrusted;return check};self.isMobileBrowser=function(event){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)};self.partInViewport=function(el){let x=el.getBoundingClientRect().left,y=el.getBoundingClientRect().top,ww=Math.max(document.documentElement.clientWidth,window.innerWidth||0),hw=Math.max(document.documentElement.clientHeight,window.innerHeight||0),w=el.clientWidth,h=el.clientHeight;return y<hw&&y+h>0&&x<ww&&x+w>0};self.markVoted=function(elsArr=[]){elsArr.forEach(function(el){var elm=el;var reviewId=elm.getAttribute("data-review");if(!reviewId){review=elm.getAttribute("data-review")}
var cookieName="helpfulvote-"+reviewId;var cookieValue=self.readCookie(cookieName);if(!cookieValue){cookieValue=self.readCookie(reviewId)}
if(!cookieValue){cookieValue=self.readCookie(elm.getAttribute("id"))}
if(RegExp("^(("+reviewId+")\\|(\\w+)\\|(\\d+)\\|(\\d+)\\|(\\d+))$").test(cookieValue)){var valueArr=cookieValue.split("|");el.dataset.vote_id=valueArr[2];if(valueArr[1]=="pos"||valueArr[1]=="neg"){elm.querySelector(".isHelpful").innerHTML=self.__("Thanks for your feedback!");elm.classList.add("active");if(valueArr[1]=="pos"){elm.querySelector(".js-helpful-button").classList.add("active")}else if(valueArr[1]=="neg"){elm.querySelector(".js-helpful-no-button").classList.add("active")}
var posVoteCounter=elm.querySelector(".js-pos-vote-count");var negVoteCounter=elm.querySelector(".js-neg-vote-count");posVoteCounter.innerText=valueArr[3];negVoteCounter.innerText=valueArr[4]}}})};self.__=function(string){let translations=window.STJR_TRANSLATIONS||{};try{Array.from(document.querySelectorAll(".js-stjr-additional-translations:not(.stjr-init)")).forEach((el)=>{el.classList.add("stjr-init");const translation=JSON.parse(el.innerText);translations={...translation,...translation}})}catch(error){console.log("Error parsing json translations");console.log(error)}
window.STJR_TRANSLATIONS=translations;return translations[string]||string};(self.createVoteCookies=function(name,reviewId,voteId,voteType,posVotes,negVotes,votedValue=1){var voteTypeAfter=parseInt(votedValue)!==0?voteType:"none";self.createCookie(name,reviewId+"|"+voteTypeAfter+"|"+voteId+"|"+posVotes+"|"+negVotes,30);self.setCookie(name.replace("-","."),reviewId+"|"+voteTypeAfter+"|"+voteId+"|"+posVotes+"|"+negVotes,30)}),(self.loadScript=function(url,callback){var tempBase=base,scriptElement=document.createElement("script"),r=!1;if(/dev\.biz\.sitejabber\.com/.test(location.origin)&&/\.js/.test(url))tempBase=location.origin;scriptElement.src=(self.isAbsolute()?CDNBase:tempBase)+url;scriptElement.type="text/javascript";scriptElement.crossOrigin="anonymous";scriptElement.onload=scriptElement.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState=="complete")){r=!0;if(callback)callback();}};document.getElementsByTagName("script")[0].appendChild(scriptElement)});self.loadStyleSheet=function(url){var linkElement=document.createElement("link");linkElement.href=url;linkElement.rel="stylesheet";linkElement.type="text/css";linkElement.crossOrigin="anonymous";document.getElementsByTagName("head")[0].appendChild(linkElement)};self.loadStyleSheets=function(url){if(!_loadingStyleSheet){_loadingStyleSheet=!0;var selectedWidgets="?widgets=base";if(/\?widgets=/.test(selectedWidgets)){self.loadStyleSheet(self.getBase()+"/css/v2/widget-styles.css"+selectedWidgets)}else{self.loadStyleSheet(url+"widget"+(self.isAbsolute()?".min.1637847212":"")+".css")}
var timer=setInterval(function(){if(!0){clearInterval(timer);timer=null;_hasLoadedStyleSheet=!0}},50)}};self.render=function(){if(!self.hasLoadedStyleSheet()||!sj_responses["response"+this._widgetNumber]){window.setTimeout(self.render.bind(this),500);return this}
if(sj_responses["response"+this._widgetNumber].loaded)return;var u=document.getElementById("stjr-widget"+this._widgetNumber);var t=document.querySelector("#"+this.id);if(t==null||u==null)return;sj_responses["response"+this._widgetNumber].loaded=!0;u.innerHTML=sj_responses["response"+this._widgetNumber].html;this.render();return this};self.renderNoProductsMessage=function(classSelector,_widgetNumber){var u=document.querySelector(classSelector);u.innerHTML=`<p class="stjr-util-para--empty">${self.__("Preview will appear once products are added.")}</p>`};self.setCookie=function(name,channel,days){if(!cookieSent[name]){var url=base+"/save-cookie?n="+name+"&v="+channel+"&e="+days+"&rnd="+Math.random(),xmlHttp=new XMLHttpRequest();xmlHttp.open("GET",url,!0);xmlHttp.withCredentials=!0;xmlHttp.send(null);cookieSent[name]=!0}};self.createCookie=function(name,value,days,domain){var dom=domain?"; domain="+domain:"",expires="";if(days){var date=new Date();date.setTime(date.getTime()+days*24*60*60*1000);expires="; expires="+date.toGMTString()}
document.cookie=name+"="+value+expires+dom+"; path=/"};self.readCookie=function(name){var nameEQ=name+"=",ca=document.cookie.split(";"),c,i;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null};self.makeMiniSlider=function(sliderContainer,prevBtn,nextBtn,callback=null){var currentPageIndex,pagesNeeded,carouselDirectionReverse=!1,currentPageOrder=1,backUp=sliderContainer.cloneNode(!0),children=backUp.children,minReviewWidth,reviewPageWidth,sliderContainerParent=null;resize();prevBtn.addEventListener("click",navLeft);nextBtn.addEventListener("click",navRight);function navLeft(){if(pagesNeeded===0||pagesNeeded===1)return;carouselDirectionReverse=!0;sliderContainer.classList.add("stjr-util-slider-container-transition");sliderContainer.style.left="100%";sliderContainerParent.style.justifyContent="flex-end"}
function navRight(){if(pagesNeeded===0||pagesNeeded===1)return;carouselDirectionReverse=!1;sliderContainer.classList.add("stjr-util-slider-container-transition");sliderContainer.style.left="-100%";sliderContainerParent.style.justifyContent="flex-start"}
function changeSlide(){var allEls=[];if(carouselDirectionReverse){allEls=Array.from(sliderContainer.querySelectorAll("[data-position]"));if(currentPageOrder==1)currentPageOrder=pagesNeeded;else currentPageOrder--}else{allEls=Array.from(sliderContainer.querySelectorAll("[data-position]"));if(currentPageOrder==pagesNeeded)currentPageOrder=1;else currentPageOrder++}
let order=1;if(carouselDirectionReverse){for(let i=currentPageOrder;i<=pagesNeeded&&i>0;i++){allEls[i-1].style.order=order;order++}
for(let i=1;i<currentPageOrder&&i>0;i++){allEls[i-1].style.order=order;order++}}
if(!carouselDirectionReverse){for(let i=currentPageOrder;i<=pagesNeeded;i++){sliderContainer.querySelector("[data-position='"+i+"']").style.order=order;order++}
for(let i=1;i<currentPageOrder;i++){sliderContainer.querySelector("[data-position='"+i+"']").style.order=order;order++}}
sliderContainer.classList.remove("stjr-util-slider-container-transition");sliderContainer.style.left="0";sliderContainer.style.justifyContent="flex-start"}
function resize(){window.removeEventListener("resize",resize);sliderContainerParent=sliderContainer.parentElement;sliderContainerParent.style.display="flex";sliderContainerParent.style.justifyContent="flex-start";var sliderContainerParentWrapper=sliderContainerParent.parentElement;var parentWidth=sliderContainerParent.offsetWidth>0?sliderContainerParent.offsetWidth:document.body.offsetWidth;var minReviewWidth=sliderContainer.children[0].offsetWidth>0?sliderContainer.children[0].offsetWidth:120;currentPageIndex=0;sliderContainer.style.left="0%";var srcReviews=children;reviewPageWidth=sliderContainer.offsetWidth>0?sliderContainer.offsetWidth:document.body.offsetWidth;console.log('reviewPageWidth',reviewPageWidth)
if(reviewPageWidth<minReviewWidth)minReviewWidth=reviewPageWidth;var reviewsPerPage=parseInt(parentWidth/minReviewWidth);pagesNeeded=Math.ceil(srcReviews.length/reviewsPerPage);if(pagesNeeded===0||pagesNeeded===1){prevBtn.style.display="none";nextBtn.style.display="none"}else{prevBtn.style.display="flex";nextBtn.style.display="flex"}
parentWidth=sliderContainerParent.offsetWidth>0?sliderContainerParent.offsetWidth:document.body.offsetWidth;currentPageIndex=0;var pagesHtml="";var reviewIndex=0;sliderContainer.innerHTML="";console.log('reviewsPerPage',reviewsPerPage)
for(var pageIndex=0;pageIndex<pagesNeeded;pageIndex++){pagesHtml+=`<div class="stjr-util-slider__item-wrapper" data-position="${pageIndex + 1}" style="width:${parentWidth}px;order:${pageIndex + 1}; ${children.length < reviewsPerPage && pageIndex == 0 ? "justify-content:start;" : ""}">`;var reviewCount=0;var duplicateCount=0;while(reviewCount<reviewsPerPage){if(children[reviewIndex]){pagesHtml+=children[reviewIndex].outerHTML}else if(pageIndex>0){if(children[duplicateCount])pagesHtml+=children[duplicateCount].outerHTML;else{duplicateCount=0;pagesHtml+=children[duplicateCount].outerHTML}
duplicateCount++}
reviewCount++;reviewIndex++}
pagesHtml+=`</div>`}
sliderContainer.innerHTML=pagesHtml;var maxHeight=-1;sliderContainer.style.minHeight="800px";sliderContainer.style.position="relative";sliderContainer.style.display="flex";for(var el of sliderContainer.children)maxHeight=maxHeight>el.offsetHeight?maxHeight:el.offsetHeight;sliderContainer.dataset.initHeight=maxHeight+0;sliderContainer.style.minHeight=(maxHeight>0?maxHeight:100)+0+"px";sliderContainer.addEventListener("transitionend",()=>{changeSlide()});window.addEventListener("resize",resize);sliderContainerParentWrapper.style.opacity=1;if(callback)callback();}};self.maxZIndex=function(){return[...document.querySelectorAll("body *")].map((elt)=>parseFloat(getComputedStyle(elt).zIndex)).reduce((z,highest=Number.MIN_SAFE_INTEGER)=>(isNaN(z)||z<highest?highest:z))};self.ErrorHandler=function(res){if(typeof res==="object"&&res.status&&res.status=="error"){var resDataArr=[];for(var itemName in res){if(itemName!=="code"&&itemName!=="message"&&itemName!=="status"){resDataArr.push(JSON.stringify(res[itemName]))}}
console.log(`%cSitejabber widgets | ${res.code} | ${res.message ? res.message : "Error"} ${resDataArr.length > 0 ? "| " + resDataArr.join(" | ") : ""}`,"color:#ef6a23")}else{console.log(`%cSitejabber widgets | ${res}`,"color:#ef6a23")}
var evnt=new Event("STJRV2.ErrorHandler");document.querySelector("body").dispatchEvent(evnt)};self.consolidateOnPageProductMicroData=function(){var schemaJsonStructure=document.querySelector("#stjr-product-schema-json");if(!schemaJsonStructure){return}
var onPageProductSchema=document.querySelector('[itemtype$="schema.org/Product"]');var schemaJsonData=null;var schemaJsonStr=schemaJsonStructure.innerText.replace(/(\r\n|\n|\r|\t)/gm," ");try{schemaJsonData=JSON.parse(schemaJsonStr)}catch(e){console.log("Error parsing json schema")}
var itemTypes={author:"https://schema.org/Person",aggregateRating:"https://schema.org/AggregateRating",offers:"https://schema.org/Offer",review:"https://schema.org/Review",reviewRating:"https://schema.org/Rating",};if(!schemaJsonStructure||!onPageProductSchema||!schemaJsonData){return}
function updateMicroDataProperty(propertyObject,parentPropEl=null){for(var key in propertyObject){var propertyName=key;var property=propertyObject[propertyName];var microDataField=null;var similarMicroDataFields=parentPropEl.querySelectorAll(`[itemprop="${propertyName}"]`);if(similarMicroDataFields.length>0){Array.from(similarMicroDataFields).forEach((el,i)=>{if(el.parentElement.closest("[itemscope]")==parentPropEl){microDataField=el}})}
if(propertyName.indexOf("@")!==0){if(typeof property=="object"){if(!Array.isArray(property)){if(!microDataField){if(parentPropEl){parentPropEl.insertAdjacentHTML("beforeend",`<div style="display:hidden;" itemprop="${propertyName}" itemscope itemtype="${itemTypes[propertyName] ? itemTypes[propertyName] : "https://schema.org/" + propertyName}"></div>`)}else{parentPropEl.insertAdjacentHTML("beforeend",`<div itemprop="${propertyName}"></div>`)}}else{}}
if(Array.isArray(property)){if(parentPropEl){Array.from(property).forEach(function(val){parentPropEl.insertAdjacentHTML("beforeend",`<meta itemprop="${propertyName}" content="${self.htmlEntities(val)}"/>`)})}}else{updateMicroDataProperty(property,document.querySelector(`[itemprop="${propertyName}"]`))}}
if(typeof property=="string"){if(parentPropEl){if(microDataField){microDataField.setAttribute("content",property)}else{parentPropEl.insertAdjacentHTML("beforeend",`<meta itemprop="${propertyName}" content="${self.htmlEntities(property)}"/>`)}}}}}}
updateMicroDataProperty(schemaJsonData,onPageProductSchema);var ItemConditionMeta=onPageProductSchema.querySelector('[itemtype="http://schema.org/OfferItemCondition"]');if(ItemConditionMeta&&ItemConditionMeta.content&&!/DamagedCondition|NewCondition|RefurbishedCondition|UsedCondition/.test(ItemConditionMeta.content)){ItemConditionMeta.content="NewCondition"}
schemaJsonStructure.remove()};self.consolidateOnPageJsonSchema=function(){var schemaJsonStructure=document.querySelector("#stjr-product-schema-json");if(!schemaJsonStructure){return}
var onPageProductSchemas=document.querySelectorAll('script:not(#stjr-product-schema-json)[type="application/ld+json"]');var schemaJsonData=null;var isConsolidated=!1;var schemaJsonStr=schemaJsonStructure.innerText.replace(/(\r\n|\n|\r|\t)/gm," ");try{schemaJsonData=JSON.parse(schemaJsonStr)}catch(e){console.log("Error parsing json schema")}
if(!schemaJsonData){return}
Array.from(onPageProductSchemas).forEach((el)=>{updateJsonSchema(el,schemaJsonData)});function updateJsonSchema(schemaEl,schemaJsonData){var el=schemaEl;var jsonData=null;var jsonStr=el.innerText.replace(/(\r\n|\n|\r|\t)/gm," ");var productProperty=null;try{jsonData=JSON.parse(jsonStr)}catch(e){console.log("Error parsing json schema")}
if(jsonData&&jsonData["@context"]&&/schema\.org$|schema\.org\/$/.test(jsonData["@context"])&&jsonData["@graph"]&&Array.isArray(jsonData["@graph"])){Array.from(jsonData["@graph"]).forEach((graph,idx)=>{if(graph&&graph["@type"]&&graph["@type"]=="Product"){if(!productProperty){productProperty=graph}else{jsonData["@graph"][idx]=null}}});jsonData["@graph"]=jsonData["@graph"].filter((graph)=>!!graph)}
if(jsonData&&jsonData["@context"]&&/schema\.org$|schema\.org\/$/.test(jsonData["@context"])&&jsonData["@type"]&&jsonData["@type"]=="Product"){productProperty=jsonData}
if(productProperty){if(schemaJsonData.review){productProperty.review=schemaJsonData.review}
if(schemaJsonData.aggregateRating){productProperty.aggregateRating=schemaJsonData.aggregateRating}
if(schemaJsonData.description){productProperty.description=schemaJsonData.description}
if(productProperty&&productProperty.offers&&productProperty.offers.itemCondition){productProperty.offers.itemCondition="NewCondition"}
el.innerText=JSON.stringify(jsonData);isConsolidated=!0}}
if(isConsolidated){schemaJsonStructure.remove()}};self.consolidateOnPageOrganizationJsonSchema=function(){var schemaJsonStructure=document.querySelector("#stjr-organization-schema-json");if(!schemaJsonStructure){return}
var onPageOrgSchemas=document.querySelectorAll('script:not(#stjr-organization-schema-json)[type="application/ld+json"]');var schemaJsonData=null;var isConsolidated=!1;var schemaJsonStr=schemaJsonStructure.innerText.replace(/(\r\n|\n|\r|\t)/gm," ");try{schemaJsonData=JSON.parse(schemaJsonStr)}catch(e){console.log("Error parsing json schema")}
if(!schemaJsonData){return}
Array.from(onPageOrgSchemas).forEach((el)=>{updateJsonSchema(el,schemaJsonData)});function updateJsonSchema(schemaEl,schemaJsonData){var el=schemaEl;var jsonData=null;var jsonStr=el.innerText.replace(/(\r\n|\n|\r|\t)/gm," ");var organizationProperty=null;try{jsonData=JSON.parse(jsonStr)}catch(e){console.log("Error parsing json schema")}
if(jsonData&&jsonData["@context"]&&/schema\.org$|schema\.org\/$/.test(jsonData["@context"])&&jsonData["@graph"]&&Array.isArray(jsonData["@graph"])){Array.from(jsonData["@graph"]).forEach((graph,idx)=>{if(graph&&graph["@type"]&&graph["@type"]=="Organization"){if(!organizationProperty){organizationProperty=graph}else{jsonData["@graph"][idx]=null}}});jsonData["@graph"]=jsonData["@graph"].filter((graph)=>!!graph)}
if(jsonData&&jsonData["@context"]&&/schema\.org$|schema\.org\/$/.test(jsonData["@context"])&&jsonData["@type"]&&jsonData["@type"]=="Organization"){organizationProperty=jsonData}
if(organizationProperty){if(schemaJsonData.review){organizationProperty.review=schemaJsonData.review}
if(schemaJsonData.aggregateRating){organizationProperty.aggregateRating=schemaJsonData.aggregateRating}
el.innerText=JSON.stringify(jsonData);isConsolidated=!0}}
if(isConsolidated){schemaJsonStructure.remove()}};self.htmlEntities=function(str){return String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};self.widgetViewRegister=function(displayUrl="onlinemetals.com",widgetName="instant_feedback",queryParams={}){var url=self.getBase()+"/widget-view-register/"+displayUrl+"/"+widgetName;var params=queryParams;params.page_url=window.location.href;var viewMatrix=null;var displayConfirmed=0;if(widgetName=="instant_feedback"){var tempEl=document.querySelector(".stjr-review-checkout-widget");if(tempEl){viewMatrix=tempEl.getBoundingClientRect();displayConfirmed=viewMatrix.width&&viewMatrix.height?!0:!1}}
params.view_matrix=viewMatrix?JSON.stringify(viewMatrix):null;params.display_confirmed=displayConfirmed;var query=self.getQueryString(Object.assign({},params),null);self.jsonP(url+"?"+query)};if(!self.hasLoadedStyleSheet())self.loadStyleSheets((self.isAbsolute()?CDNBase:base)+"/css/");return self});STJRV2.ReviewsWidget=(function(){return this})();if(window.STJR){STJR.setConfig=function(args){STJRV2.setConfig(args)}}else{window.STJR={};STJR.setConfig=function(args){STJRV2.setConfig(args)}}
if((window?.Shopify?.Checkout?.step=='thank_you'||/thank_you/.test(location.href)||window?.Shopify?.Checkout?.isOrderStatusPage)&&!document.querySelector(".stjr-instant-feedback")){STJRV2.widgetViewRegister("onlinemetals.com","no_instant_feedback")}
var event=new Event("STJRV2.loaded");document.querySelector("body").dispatchEvent(event)