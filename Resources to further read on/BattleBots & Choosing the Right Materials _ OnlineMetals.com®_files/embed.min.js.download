!function(){var t,e="https://ui-elements.loyalsys.io",o="/v1.0.1/index.html?b=v3.20.18",n=function(t){for(var e=t+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var a=o[n];" "==a.charAt(0);)a=a.substring(1);if(-1!=a.indexOf(e))return a.substring(e.length,a.length)}return""}("lsdebug"),a=document.location.search.indexOf("lsdebug=true")>0||"true"===n,i=document.location.search.indexOf("lsOpenWallet=true")>0,d=(t=document.URL.match(/lsrf=([a-zA-Z0-9_.-]+)/))&&t.length>0?t[1]:null,s=document.location.search.indexOf("lscaptcha=true")>0;(a?(console.log("LoyalSys loading... (build v3.20.18 )"),document.cookie="lsdebug=true; expires=0; path=/",window.loyalsysSettings.debug=!0,console.log("isLSOpenWallet:",i)):window.loyalsysSettings.debug=!1,i&&(window.loyalsysSettings.openWalletNow=!0),d&&(window.loyalsysSettings.referralId=d),s&&(window.loyalsysSettings.forceCaptcha=!0),!!window.MSInputMethodContext&&!!document.documentMode)||"true"===document.currentScript.getAttribute("dev")&&(e=location.protocol+"//"+location.host);function l(t){var n=document.createElement("iframe"),a=window;x=a.innerWidth,y=a.innerHeight,n.onload=function(){var o=this.contentWindow;window.loyalsysSettings.debug=t,window.loyalsysSettings.ShowWallet=function(){console.log("got MANUAL show wallet request"),o.postMessage({x:x,y:y,action:"showWallet"},e)},o.postMessage({x:x,y:y,action:"initialize",loyalsysSettings:JSON.stringify(window.loyalsysSettings)},e),!0===window.loyalsysSettings.debug&&console.log("LoyalSys Portal Loaded."),"function"==typeof window.loyalsysSettings.onInit&&(!0===window.loyalsysSettings.debug&&console.log("Got init function"),window.loyalsysSettings.onInit())},n.setAttribute("id","loyalSysIframe"),n.setAttribute("title","Loyalty Wallet"),n.setAttribute("tabIndex","0"),n.setAttribute("src",e+o),n.style.cssText="position: absolute ; left: -10000px; top: -10000px ;";var i=document.createElement("style");i.innerHTML="@media screen and (max-width: 768px) and (orientation:landscape){#"+n.id+"{display: none;}}",document.body.appendChild(i),document.body.appendChild(n)}window.addEventListener?window.addEventListener("load",l(a),!1):window.attachEvent&&window.attachEvent("onload",l(a)),window.addEventListener("message",function(t){if(t.origin===e&&"resize"===t.data.action){var o=document.getElementById("loyalSysIframe");let e="border: 0 ; position: fixed;";e+="width: "+t.data.width+";",e+="height: "+t.data.height+";",e+="bottom:"+t.data.paddingBottom+";",e+="right: "+t.data.paddingRight+" !important;",e+="left: "+t.data.paddingLeft+" !important;";const n="left"===t.data.buttonSide?"-":"";t.data.showVertical&&parseInt(t.data.height.replace(/px/,""))<100&&(e+="transform: rotate(-90deg) translateY("+n+(parseInt(t.data.width.replace(/px/,""),10)-16)/2+"px); top: 50%;"),e+="z-index: "+t.data.zIndex+";","0px"===t.data.width&&"0px"===t.data.height||(e+="border: solid 1px #cecece; -webkit-box-shadow: 0 0 2px 0 rgba(0,0,0,.12), 0 2px 2px 0 rgba(0,0,0,.24); box-shadow: 0 0 2px 0 rgba(0,0,0,.12), 0 2px 2px 0 rgba(0,0,0,.24);"),o.style.cssText=e}})}();